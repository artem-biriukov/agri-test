FROM python:3.11-slim

WORKDIR /app

RUN pip install --no-cache-dir \
    fastapi==0.104.1 \
    uvicorn==0.24.0 \
    pydantic==2.5.0 \
    numpy==1.26.0 \
    pandas==2.0.3 \
    joblib==1.3.2 \
    google-cloud-storage==2.10.0 \
    gcsfs==2023.10.0

COPY yield_forecast_service_light.py yield_forecast_service.py

CMD ["uvicorn", "yield_forecast_service:app", "--host", "0.0.0.0", "--port", "8001"]